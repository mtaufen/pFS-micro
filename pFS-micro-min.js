(function(a,b,c){a.requestFileSystem=a.requestFileSystem||a.webkitRequestFileSystem;var d=function(a){var b="";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:b="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:b="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:b="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:b="INVALID_STATE_ERR";break;default:b="Unknown Error";break}};var e={set:function(b,c){a.requestFileSystem(a.PERSISTENT,b,c,d)},replaceContent:function(b,c,f,g){b.root.getFile(c,{create:true,exclusive:false},function(h){h.remove(function(){b.root.getFile(c,{create:true,exclusive:false},function(b){e.currentURL=b.toURL();b.createWriter(function(b){b.onwriteend=g;b.onerror=function(a){console.log("Write failed: "+a.toString())};var c=new a.WebKitBlobBuilder;c.append(f);b.write(c.getBlob("text/plain"))},d)},d)},d)},d)},writeOver:function(b,c,e,f){b.root.getFile(c,{create:true,exclusive:false},function(b){b.createWriter(function(b){b.onwriteend=f;b.onerror=function(a){console.log("Write failed: "+a.toString())};var c=new a.WebKitBlobBuilder;c.append(e);b.write(c.getBlob("text/plain"))},d)},d)},readFrom:function(a,b,c){a.root.getFile(b,{},function(a){e.currentURL=a.toURL();a.file(function(a){var b=new FileReader;b.onloadend=c;b.readAsText(a)},d)},d)}};a.pFS=e})(this,document)